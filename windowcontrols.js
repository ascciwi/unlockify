!function(){if(!window.__UNLOCKIFY_WC__){window.__UNLOCKIFY_WC__=!0;var n="http://127.0.0.1:7384",e=document.createElement("style");e.id="unl-wc-style",e.textContent='\n    /* Drag strip — sits behind everything, covers the nav bar area */\n    #unl-drag-strip {\n      position: fixed;\n      top: 0; left: 0; right: 0;\n      height: var(--unl-nav-h, 48px);\n      -webkit-app-region: drag;\n      z-index: 9998; /* below our buttons */\n      pointer-events: none; /* let clicks through to buttons */\n    }\n\n    /* Nav bar itself no longer needs drag since strip handles it */\n    #global-nav-bar { -webkit-app-region: no-drag; }\n    #global-nav-bar *, #global-nav-bar a, #global-nav-bar button,\n    #global-nav-bar input, #global-nav-bar [role="button"] { -webkit-app-region: no-drag; }\n\n    /* Hide Explore Premium + Install App */\n    [data-testid="upgrade-button"],\n    #global-nav-bar a[href="/download"] { display: none !important; }\n\n    /* Fixed overlay containers — React can NEVER touch these */\n    #unl-wc {\n      position: fixed;\n      top: 0; right: 0;\n      height: var(--unl-nav-h, 48px);\n      display: flex; align-items: center;\n      z-index: 99999;\n      -webkit-app-region: no-drag;\n    }\n    #unl-wc button {\n      width: 46px; height: var(--unl-nav-h, 48px);\n      background: transparent; border: none; cursor: pointer;\n      display: flex; align-items: center; justify-content: center;\n      color: #a7a7a7;\n      transition: background 0.1s, color 0.1s;\n      -webkit-app-region: no-drag;\n    }\n    #unl-wc button:hover { background: rgba(255,255,255,0.1); color: #fff; }\n    #unl-wc button#unl-btn-close:hover { background: #e81123; color: #fff; }\n    #unl-wc button svg { width: 10px; height: 10px; fill: currentColor; display: block; }\n\n    /* Spacer to push Spotify\'s right-side icons left of our WC buttons */\n    #unl-wc-spacer {\n      display: inline-block;\n      width: 138px; /* 3 buttons * 46px */\n      flex-shrink: 0;\n    }\n\n    #unl-leftnav {\n      position: fixed;\n      top: 0; left: 0;\n      height: var(--unl-nav-h, 48px);\n      display: flex; align-items: center;\n      z-index: 99999;\n      -webkit-app-region: no-drag;\n      padding: 0 6px;\n      gap: 0;\n    }\n    #unl-leftnav button {\n      width: 28px; height: 28px;\n      background: transparent; border: none; cursor: pointer;\n      display: flex; align-items: center; justify-content: center;\n      color: #a7a7a7; border-radius: 50%;\n      transition: background 0.1s, color 0.1s;\n      -webkit-app-region: no-drag;\n      padding: 0;\n    }\n    #unl-leftnav button:hover:not([disabled]) { background: rgba(255,255,255,0.1); color: #fff; }\n    #unl-leftnav button[disabled] { opacity: 0.3; cursor: default; pointer-events: none; }\n    #unl-leftnav button svg { fill: currentColor; display: block; }\n    #unl-btn-dots { margin-right: 4px; }\n    #unl-btn-dots svg { width: 14px; height: 14px; }\n    #unl-btn-back svg, #unl-btn-fwd svg { width: 14px; height: 14px; }\n\n    /* Spacer to push Spotify\'s left-side icons right of our left nav */\n    #unl-leftnav-spacer {\n      display: inline-block;\n      width: 96px; /* 6px padding + dots(28+4margin) + back(28) + fwd(28) + 6px padding */\n      flex-shrink: 0;\n    }\n\n    /* Dots menu */\n    #unl-dotmenu {\n      position: fixed; top: 48px; left: 4px;\n      background: #282828;\n      border: 1px solid rgba(255,255,255,0.1);\n      border-radius: 4px; padding: 4px 0;\n      z-index: 999999; min-width: 190px;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.5);\n      font-size: 13px; display: none;\n      -webkit-app-region: no-drag;\n    }\n    #unl-dotmenu.open { display: block; }\n    .unl-mi {\n      display: flex; align-items: center; justify-content: space-between;\n      padding: 8px 16px; cursor: pointer; color: #fff;\n      user-select: none; gap: 24px;\n    }\n    .unl-mi:hover { background: rgba(255,255,255,0.1); }\n    .unl-sep { height: 1px; background: rgba(255,255,255,0.1); margin: 4px 0; }\n    .unl-sc { color: #a7a7a7; font-size: 11px; }\n  ',(document.head||document.documentElement).appendChild(e),new MutationObserver((function(){document.getElementById("unl-wc-style")||(document.head||document.documentElement).appendChild(e.cloneNode(!0))})).observe(document.documentElement,{childList:!0});var t=[window.location.href],o=0,i=history.pushState.bind(history);history.pushState=function(n,e,l){i(n,e,l),(t=t.slice(0,o+1)).push(window.location.href),o=t.length-1,u()},window.addEventListener("popstate",(function(){for(var n=window.location.href,e=0;e<t.length;e++)if(t[e]===n){o=e;break}u()}));var l=null,r=1;document.addEventListener("keydown",(function(n){n.ctrlKey&&("="===n.key||"+"===n.key?(n.preventDefault(),h(.1)):"-"===n.key?(n.preventDefault(),h(-.1)):"0"===n.key?(n.preventDefault(),g(1)):"r"!==n.key&&"R"!==n.key||(n.preventDefault(),location.reload()))})),document.body?m():document.addEventListener("DOMContentLoaded",m)}function a(){console.log("[Unlockify WC] winMinimize"),fetch(n+"/window/minimize").then((function(n){return n.json()})).then((function(n){console.log("[Unlockify WC] minimize:",JSON.stringify(n))})).catch((function(n){console.error("[Unlockify WC] minimize failed:",n)}))}function d(){console.log("[Unlockify WC] winClose"),fetch(n+"/window/close").then((function(n){return n.json()})).then((function(n){console.log("[Unlockify WC] close:",JSON.stringify(n))})).catch((function(n){console.error("[Unlockify WC] close failed:",n)}))}function c(){console.log("[Unlockify WC] winMaximize"),fetch(n+"/window/maximize").then((function(n){return n.json()})).then((function(n){console.log("[Unlockify WC] maximize:",JSON.stringify(n)),setTimeout(s,150)})).catch((function(n){console.error("[Unlockify WC] maximize failed:",n)}))}function s(){fetch(n+"/window/ismaximized").then((function(n){return n.json()})).then((function(n){var e=document.getElementById("unl-btn-max");e&&(e.innerHTML=n.maximized?'<svg viewBox="0 0 10 10"><rect x="2" y="0" width="8" height="8" fill="none" stroke="currentColor" stroke-width="1"/><rect x="0" y="2" width="8" height="8" fill="#121212" stroke="currentColor" stroke-width="1"/></svg>':'<svg viewBox="0 0 10 10"><rect x="0.5" y="0.5" width="9" height="9" fill="none" stroke="currentColor" stroke-width="1"/></svg>')})).catch((function(){}))}function u(){var n=document.getElementById("unl-btn-back"),e=document.getElementById("unl-btn-fwd");n&&(o<=0?n.setAttribute("disabled",""):n.removeAttribute("disabled")),e&&(o>=t.length-1?e.setAttribute("disabled",""):e.removeAttribute("disabled"))}function p(){l||(document.getElementById("unl-dotmenu")?l=document.getElementById("unl-dotmenu"):((l=document.createElement("div")).id="unl-dotmenu",[{l:"Reload",s:"Ctrl+R",f:function(){location.reload()}},{sep:!0},{l:"Zoom In",s:"Ctrl++",f:function(){h(.1)}},{l:"Zoom Out",s:"Ctrl+-",f:function(){h(-.1)}},{l:"Reset Zoom",s:"Ctrl+0",f:function(){g(1)}},{sep:!0},{l:"Open Preferences",s:"",f:function(){history.pushState({},"","/preferences"),window.dispatchEvent(new PopStateEvent("popstate",{state:{}}))}},{sep:!0},{l:"Minimize",s:"",f:a},{l:"Maximize / Restore",s:"",f:c},{l:"Close",s:"Alt+F4",f:d}].forEach((function(n){if(n.sep){var e=document.createElement("div");return e.className="unl-sep",void l.appendChild(e)}var t=document.createElement("div");t.className="unl-mi",t.innerHTML="<span>"+n.l+"</span>"+(n.s?'<span class="unl-sc">'+n.s+"</span>":""),t.addEventListener("click",(function(){f(),n.f()})),l.appendChild(t)})),document.body.appendChild(l),document.addEventListener("click",(function(n){l&&("unl-btn-dots"===n.target.id||l&&l.contains(n.target)||f())})))),l.classList.add("open")}function f(){l&&l.classList.remove("open")}function g(n){r=Math.max(.5,Math.min(2,n)),document.body.style.zoom=r}function h(n){g(r+n)}function m(){if(!document.getElementById("unl-wc")&&document.body){var n=document.createElement("div");n.id="unl-drag-strip",document.body.appendChild(n);var e=document.getElementById("global-nav-bar");if(e){var i=e.getBoundingClientRect().height;i>0&&document.documentElement.style.setProperty("--unl-nav-h",i+"px")}var r=document.querySelector(".AYUEkKOEqksuTXmh");r&&(r.style.display="none");var g=e;if(g&&!document.getElementById("unl-leftnav-spacer")){var h=document.createElement("div");h.id="unl-leftnav-spacer",g.insertBefore(h,g.firstChild.nextSibling)}var m=document.querySelector('[data-testid="user-widget-link"]');if(m&&(m=m.parentElement),m&&!document.getElementById("unl-wc-spacer")){var b=document.createElement("div");b.id="unl-wc-spacer",m.appendChild(b)}var v=document.createElement("div");v.id="unl-wc";var x=document.createElement("button");x.id="unl-btn-min",x.title="Minimize",x.innerHTML='<svg viewBox="0 0 10 1"><rect width="10" height="1"/></svg>',x.addEventListener("click",(function(n){n.stopPropagation(),console.log("[Unlockify WC] Minimize clicked"),a()}));var y=document.createElement("button");y.id="unl-btn-max",y.title="Maximize",y.innerHTML='<svg viewBox="0 0 10 10"><rect x="0.5" y="0.5" width="9" height="9" fill="none" stroke="currentColor" stroke-width="1"/></svg>',y.addEventListener("click",(function(n){n.stopPropagation(),console.log("[Unlockify WC] Maximize clicked"),c()}));var w=document.createElement("button");w.id="unl-btn-close",w.title="Close",w.innerHTML='<svg viewBox="0 0 10 10"><line x1="0" y1="0" x2="10" y2="10" stroke="currentColor" stroke-width="1.2"/><line x1="10" y1="0" x2="0" y2="10" stroke="currentColor" stroke-width="1.2"/></svg>',w.addEventListener("click",(function(n){n.stopPropagation(),console.log("[Unlockify WC] Close clicked"),d()})),v.appendChild(x),v.appendChild(y),v.appendChild(w),document.body.appendChild(v);var k=document.createElement("div");k.id="unl-leftnav";var C=document.createElement("button");C.id="unl-btn-dots",C.title="Menu",C.innerHTML='<svg viewBox="0 0 16 4"><circle cx="2" cy="2" r="2"/><circle cx="8" cy="2" r="2"/><circle cx="14" cy="2" r="2"/></svg>',C.addEventListener("click",(function(n){n.stopPropagation(),l&&l.classList.contains("open")?f():p()}));var E=document.createElement("button");E.id="unl-btn-back",E.title="Go back",E.setAttribute("disabled",""),E.innerHTML='<svg viewBox="0 0 24 24"><path d="M15.957 2.793a1 1 0 0 1 0 1.414L8.164 12l7.793 7.793a1 1 0 1 1-1.414 1.414L5.336 12l9.207-9.207a1 1 0 0 1 1.414 0z"/></svg>',E.addEventListener("click",(function(n){n.stopPropagation(),o>0&&(o--,history.go(-1))}));var L=document.createElement("button");L.id="unl-btn-fwd",L.title="Go forward",L.setAttribute("disabled",""),L.innerHTML='<svg viewBox="0 0 24 24"><path d="M8.043 2.793a1 1 0 0 0 0 1.414L15.836 12l-7.793 7.793a1 1 0 1 0 1.414 1.414L18.664 12 9.457 2.793a1 1 0 0 0-1.414 0z"/></svg>',L.addEventListener("click",(function(n){n.stopPropagation(),o<t.length-1&&(o++,history.go(1))})),k.appendChild(C),k.appendChild(E),k.appendChild(L),document.body.appendChild(k),s(),u(),console.log("[Unlockify WC] Fixed UI built — React cannot wipe these")}}}();